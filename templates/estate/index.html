{% extends 'base.html' %}


{% load static %}
{% load humanize %}

{% block extra_head %}
{% if featured_properties %}
{% with featured_properties|first as hero_prop %}
<link rel="preload" as="image"
  href="{% if hero_prop.featured_image %}{{ hero_prop.featured_image.url }}{% else %}{% static 'assets/img/real-estate/property-exterior-3.webp' %}{% endif %}">
{% endwith %}
{% else %}
<link rel="preload" as="image" href="{% static 'assets/img/real-estate/property-exterior-3.webp' %}">
{% endif %}
{% endblock %}


{% block content %}

<style>
  /* Rounded Prev/Next buttons */
  .carousel-control-prev,
  .carousel-control-next {
    width: 45px;
    height: 45px;
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    top: 50%;
    transform: translateY(-50%);
    opacity: 1;
  }

  /* Carousel indicators - make them circular */
  .carousel-indicators button {
    width: 12px !important;
    height: 12px !important;
    border-radius: 50% !important;
    border: 2px solid black !important;
    background-color: transparent;
    opacity: 0.5;
  }

  .carousel-indicators button.active {
    background-color: black;
    opacity: 1;
  }

  #partners .owl-dots {
    margin-top: 20px;
    text-align: center;
  }

  #partners .owl-dot span {
    width: 12px !important;
    height: 12px !important;
    border-radius: 50% !important;
    background: transparent !important;
    border: 2px solid #000 !important;
    margin: 4px !important;
    display: block;
    transition: background 0.3s;
  }

  #partners .owl-dot.active span {
    background: #000 !important;
  }

  /* Partner card styling */
  #partners .partner-card {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
    text-align: center;
    padding: 15px;
    background: #fff;
  }

  #partners .partner-card img {
    width: 100%;
    height: 120px;
    object-fit: cover;
    border-radius: 8px;
  }

  /* Global Variables & World Class Design System */
  :root {
    --primary-color: #2c3e50;
    --secondary-color: #e67e22;
    --accent-color: #2980b9;
    --text-dark: #2c3e50;
    --text-light: #ecf0f1;
    --font-heading: 'Playfair Display', serif;
    --font-body: 'Inter', sans-serif;
    --glass-bg: rgba(255, 255, 255, 0.1);
    --glass-border: rgba(255, 255, 255, 0.2);
    --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    --card-hover-transform: translateY(-10px) scale(1.02);
    --card-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
  }

  body {
    font-family: var(--font-body);
    color: var(--text-dark);
    background-color: #f8f9fa;
    overflow-x: hidden;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-heading);
    font-weight: 700;
    letter-spacing: -0.5px;
  }

  /* Glassmorphism Utility */
  .glass-card {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.05);
    border-radius: 16px;
  }

  /* 3D Tilt Effect Base */
  .tilt-card {
    transition: transform 0.1s;
    transform-style: preserve-3d;
  }

  /* Smooth Scroll */
  html {
    scroll-behavior: smooth;
  }

  /* Property Cards 3D Upgrade */
  .property-item {
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    border: none;
    background: #fff;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
    position: relative;
    z-index: 1;
  }

  .property-item:hover {
    transform: translateY(-10px) scale(1.02);
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.12);
    z-index: 2;
  }

  .property-item .card-img-top {
    border-radius: 20px 20px 0 0;
    height: 250px;
    object-fit: cover;
    transition: transform 0.8s ease;
  }

  .property-item:hover .card-img-top {
    transform: scale(1.1);
  }

  .property-badge {
    position: absolute;
    top: 20px;
    left: 20px;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(5px);
    padding: 8px 16px;
    border-radius: 30px;
    font-weight: 600;
    color: var(--primary-color);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    z-index: 2;
  }

  /* Badge Variants */
  .badge-premium {
    background: linear-gradient(135deg, #FFD700, #FDB931);
    color: #fff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  .badge-featured {
    background: linear-gradient(135deg, #2980b9, #2c3e50);
    color: #fff;
  }

  /* Floating Animation */
  @keyframes float {
    0% {
      transform: translateY(0px);
    }

    50% {
      transform: translateY(-10px);
    }

    100% {
      transform: translateY(0px);
    }
  }

  .floating-element {
    animation: float 6s ease-in-out infinite;
  }

  /* Hero Section Modernization */
  .hero-content {
    position: relative;
    z-index: 2;
  }

  .hero-badge {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    display: inline-flex;
    align-items: center;
    padding: 8px 16px;
    border-radius: 50px;
    margin-bottom: 20px;
    color: #fff;
    font-weight: 500;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }

  /* Why Us Video Container 3D */
  .main-image-wrapper {
    position: relative;
    transform-style: preserve-3d;
    perspective: 1000px;
  }

  .floating-video {
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
    transform: rotateY(-5deg) rotateX(5deg);
    transition: transform 0.5s ease;
  }

  .main-image-wrapper:hover .floating-video {
    transform: rotateY(0deg) rotateX(0deg) scale(1.02);
  }

  /* Testimonials Glass Cards */
  .testimonial-item {
    background: #fff;
    border-radius: 20px;
    padding: 40px;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05);
    margin: 20px;
    position: relative;
    transition: transform 0.3s ease;
  }

  .testimonial-item:hover {
    transform: translateY(-5px);
  }

  .testimonial-img {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid #fff;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    margin-bottom: 20px;
  }

  .testimonial-quote-icon {
    position: absolute;
    top: 20px;
    right: 20px;
    font-size: 40px;
    color: rgba(44, 62, 80, 0.1);
  }

  /* Scroll Down Animation */
  .scroll-down {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    animation: bounce 2s infinite;
    color: #fff;
    font-size: 24px;
    opacity: 0.8;
  }

  @keyframes bounce {

    0%,
    20%,
    50%,
    80%,
    100% {
      transform: translateY(0) translateX(-50%);
    }

    40% {
      transform: translateY(-10px) translateX(-50%);
    }

    60% {
      transform: translateY(-5px) translateX(-50%);
    }
  }


  .clients .swiper-slide img {
    opacity: 0.5;
    transition: 0.3s;
  }

  .clients .swiper-slide img:hover {
    filter: none;
    opacity: 1;
  }

  .clients .swiper-wrapper {
    height: auto;
  }

  .clients .swiper-pagination {
    margin-top: 20px;
    position: relative;
  }

  .clients .swiper-pagination .swiper-pagination-bullet {
    width: 12px;
    height: 12px;
    opacity: 1;
    background-color: color-mix(in srgb, var(--default-color), transparent 80%);
  }

  .clients .swiper-pagination .swiper-pagination-bullet-active {
    background-color: var(--accent-color);
  }
</style>

<style>
  /* Premium Hero Carousel Styling */
  .premium-hero-carousel {
    margin-top: 115px;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
  }

  .premium-hero-carousel .carousel-inner {
    border-radius: 16px;
  }

  .premium-hero-carousel .carousel-item {
    height: 600px;
    position: relative;
  }

  .premium-hero-carousel .carousel-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.6) 100%);
    z-index: 1;
  }

  .premium-hero-carousel .carousel-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .premium-hero-carousel .carousel-caption {
    bottom: 50px;
    left: 50px;
    right: 50px;
    text-align: left;
    z-index: 2;
    padding: 0;
  }

  .premium-hero-carousel .property-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: rgba(255, 255, 255, 0.95);
    color: #000;
    padding: 8px 16px;
    border-radius: 50px;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 15px;
    backdrop-filter: blur(10px);
  }

  .premium-hero-carousel .property-badge i {
    color: #ffc107;
    font-size: 16px;
  }

  .premium-hero-carousel .carousel-caption h2 {
    color: #fff;
    font-size: 42px;
    font-weight: 800;
    margin-bottom: 15px;
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.3);
    line-height: 1.2;
  }

  .premium-hero-carousel .property-features {
    display: flex;
    gap: 25px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }

  .premium-hero-carousel .feature-item {
    display: flex;
    align-items: center;
    gap: 8px;
    color: #fff;
    font-size: 16px;
    font-weight: 500;
  }

  .premium-hero-carousel .feature-item i {
    font-size: 20px;
    color: #ffc107;
  }

  .premium-hero-carousel .property-location {
    color: rgba(255, 255, 255, 0.95);
    font-size: 18px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .premium-hero-carousel .property-location i {
    color: #ffc107;
  }

  .premium-hero-carousel .carousel-cta {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    background: #fff;
    color: #000;
    padding: 14px 32px;
    border-radius: 50px;
    font-weight: 700;
    font-size: 16px;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  }

  .premium-hero-carousel .carousel-cta:hover {
    background: #ffc107;
    color: #000;
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  }

  .premium-hero-carousel .carousel-cta i {
    font-size: 18px;
  }

  /* Navigation Controls */
  .premium-hero-carousel .carousel-control-prev,
  .premium-hero-carousel .carousel-control-next {
    width: 60px;
    height: 60px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 50%;
    top: 50%;
    transform: translateY(-50%);
    opacity: 0.9;
    transition: all 0.3s ease;
  }

  .premium-hero-carousel .carousel-control-prev {
    left: 30px;
  }

  .premium-hero-carousel .carousel-control-next {
    right: 30px;
  }

  .premium-hero-carousel .carousel-control-prev:hover,
  .premium-hero-carousel .carousel-control-next:hover {
    opacity: 1;
    background: #ffc107;
    transform: translateY(-50%) scale(1.1);
  }

  .premium-hero-carousel .carousel-control-prev-icon,
  .premium-hero-carousel .carousel-control-next-icon {
    width: 24px;
    height: 24px;
    background-size: 100%;
    filter: invert(1);
  }

  /* Indicators */
  .premium-hero-carousel .carousel-indicators {
    bottom: 20px;
    margin-bottom: 0;
  }

  .premium-hero-carousel .carousel-indicators button {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    border: 2px solid #fff;
    background-color: transparent;
    opacity: 0.6;
    margin: 0 6px;
    transition: all 0.3s ease;
  }

  .premium-hero-carousel .carousel-indicators button.active {
    background-color: #ffc107;
    border-color: #ffc107;
    opacity: 1;
    transform: scale(1.2);
  }

  /* Responsive Design */
  @media (max-width: 1199px) {
    .premium-hero-carousel .carousel-item {
      height: 500px;
    }

    .premium-hero-carousel .carousel-caption h2 {
      font-size: 36px;
    }

    .premium-hero-carousel .carousel-caption {
      bottom: 40px;
      left: 40px;
      right: 40px;
    }
  }

  @media (max-width: 991px) {
    .premium-hero-carousel .carousel-item {
      height: 450px;
    }

    .premium-hero-carousel .carousel-caption h2 {
      font-size: 32px;
    }

    .premium-hero-carousel .property-features {
      gap: 15px;
    }

    .premium-hero-carousel .feature-item {
      font-size: 14px;
    }

    .premium-hero-carousel .carousel-control-prev,
    .premium-hero-carousel .carousel-control-next {
      width: 50px;
      height: 50px;
    }

    .premium-hero-carousel .carousel-control-prev {
      left: 20px;
    }

    .premium-hero-carousel .carousel-control-next {
      right: 20px;
    }
  }

  @media (max-width: 767px) {
    .premium-hero-carousel {
      margin-top: 100px;
    }

    .premium-hero-carousel .carousel-item {
      height: 400px;
    }

    .premium-hero-carousel .carousel-caption {
      bottom: 30px;
      left: 20px;
      right: 20px;
    }

    .premium-hero-carousel .carousel-caption h2 {
      font-size: 26px;
      margin-bottom: 10px;
    }

    .premium-hero-carousel .property-badge {
      font-size: 12px;
      padding: 6px 12px;
      margin-bottom: 10px;
    }

    .premium-hero-carousel .property-features {
      gap: 12px;
      margin-bottom: 15px;
    }

    .premium-hero-carousel .feature-item {
      font-size: 13px;
    }

    .premium-hero-carousel .feature-item i {
      font-size: 16px;
    }

    .premium-hero-carousel .property-location {
      font-size: 14px;
      margin-bottom: 15px;
    }

    .premium-hero-carousel .carousel-cta {
      padding: 12px 24px;
      font-size: 14px;
    }

    .premium-hero-carousel .carousel-control-prev,
    .premium-hero-carousel .carousel-control-next {
      width: 45px;
      height: 45px;
    }

    .premium-hero-carousel .carousel-control-prev {
      left: 15px;
    }

    .premium-hero-carousel .carousel-control-next {
      right: 15px;
    }
  }

  @media (max-width: 575px) {
    .premium-hero-carousel .carousel-item {
      height: 350px;
    }

    .premium-hero-carousel .carousel-caption h2 {
      font-size: 22px;
    }

    .premium-hero-carousel .property-features {
      display: none;
    }

    .premium-hero-carousel .property-location {
      font-size: 13px;
    }

    .premium-hero-carousel .carousel-control-prev,
    .premium-hero-carousel .carousel-control-next {
      width: 40px;
      height: 40px;
    }

    .premium-hero-carousel .carousel-control-prev {
      left: 10px;
    }

    .premium-hero-carousel .carousel-control-next {
      right: 10px;
    }
  }
</style>

<main class="main">
  <div class="container premium-hero-carousel">
    <div id="premiumCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="6000">
      {% if premium_properties %}
      <div class="carousel-indicators">
        {% for property in premium_properties %}
        <button type="button" data-bs-target="#premiumCarousel" data-bs-slide-to="{{ forloop.counter0 }}" {% if forloop.first %}class="active" aria-current="true" {% endif %}
          aria-label="Slide {{ forloop.counter }}"></button>
        {% endfor %}
      </div>

      <div class="carousel-inner">
        {% for property in premium_properties %}
        <div class="carousel-item {% if forloop.first %}active{% endif %}">
          <img
            src="{% if property.featured_image %}{{ property.featured_image.url }}{% else %}{% static 'assets/img/real-estate/property-exterior-7.webp' %}{% endif %}"
            class="d-block w-100" alt="{{ property.title }}">
          <div class="carousel-caption">
            <div class="property-badge">
              <i class="bi bi-gem"></i>
              <span>Premium Listing</span>
            </div>
            <h2>{{ property.title|truncatewords:8 }}</h2>
            <div class="property-location">
              <i class="bi bi-geo-alt-fill"></i>
              <span>{{ property.city.name }}, {{ property.state.name }}</span>
            </div>
            <div class="property-features">
              <div class="feature-item">
                <i class="bi bi-door-open"></i>
                <span>{{ property.bedrooms }} Bedroom{{ property.bedrooms|pluralize }}</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-droplet"></i>
                <span>{{ property.bathrooms }} Bathroom{{ property.bathrooms|pluralize }}</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-aspect-ratio"></i>
                <span>{{ property.square_feet|floatformat:0 }} sq ft</span>
              </div>
            </div>
            <a href="{{ property.get_absolute_url }}" class="carousel-cta">
              <span>View Details</span>
              <i class="bi bi-arrow-right"></i>
            </a>
          </div>
        </div>
        {% endfor %}
      </div>
      {% else %}
      <!-- Fallback: Static content if no premium properties exist -->
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#premiumCarousel" data-bs-slide-to="0" class="active" aria-current="true"
          aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#premiumCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#premiumCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>

      <div class="carousel-inner">
        <!-- Slide 1: Luxury Exterior Property -->
        <div class="carousel-item active">
          <img src="{% static 'assets/img/real-estate/property-exterior-7.webp' %}" class="d-block w-100"
            alt="Luxury Modern Estate">
          <div class="carousel-caption">
            <div class="property-badge">
              <i class="bi bi-gem"></i>
              <span>Premium Listing</span>
            </div>
            <h2>Luxury Modern Estate with Pool</h2>
            <div class="property-location">
              <i class="bi bi-geo-alt-fill"></i>
              <span>Lekki Phase 1, Lagos</span>
            </div>
            <div class="property-features">
              <div class="feature-item">
                <i class="bi bi-door-open"></i>
                <span>5 Bedrooms</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-droplet"></i>
                <span>6 Bathrooms</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-aspect-ratio"></i>
                <span>4,500 sq ft</span>
              </div>
            </div>
            <a href="{% url 'properties' %}" class="carousel-cta">
              <span>Browse Properties</span>
              <i class="bi bi-arrow-right"></i>
            </a>
          </div>
        </div>

        <!-- Slide 2: Premium Exterior -->
        <div class="carousel-item">
          <img src="{% static 'assets/img/real-estate/property-exterior-8.webp' %}" class="d-block w-100"
            alt="Contemporary Villa">
          <div class="carousel-caption">
            <div class="property-badge">
              <i class="bi bi-star-fill"></i>
              <span>Featured Property</span>
            </div>
            <h2>Contemporary Villa with Garden</h2>
            <div class="property-location">
              <i class="bi bi-geo-alt-fill"></i>
              <span>Banana Island, Ikoyi</span>
            </div>
            <div class="property-features">
              <div class="feature-item">
                <i class="bi bi-door-open"></i>
                <span>4 Bedrooms</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-droplet"></i>
                <span>5 Bathrooms</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-aspect-ratio"></i>
                <span>3,800 sq ft</span>
              </div>
            </div>
            <a href="{% url 'properties' %}" class="carousel-cta">
              <span>View All Properties</span>
              <i class="bi bi-arrow-right"></i>
            </a>
          </div>
        </div>

        <!-- Slide 3: Premium Interior -->
        <div class="carousel-item">
          <img src="{% static 'assets/img/real-estate/property-interior-7.webp' %}" class="d-block w-100"
            alt="Elegant Interior Design">
          <div class="carousel-caption">
            <div class="property-badge">
              <i class="bi bi-award"></i>
              <span>Exclusive Interior</span>
            </div>
            <h2>Exquisite Interior Finishes</h2>
            <div class="property-location">
              <i class="bi bi-geo-alt-fill"></i>
              <span>Victoria Island, Lagos</span>
            </div>
            <div class="property-features">
              <div class="feature-item">
                <i class="bi bi-door-open"></i>
                <span>3 Bedrooms</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-droplet"></i>
                <span>4 Bathrooms</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-aspect-ratio"></i>
                <span>2,800 sq ft</span>
              </div>
            </div>
            <a href="{% url 'properties' %}" class="carousel-cta">
              <span>Explore Listings</span>
              <i class="bi bi-arrow-right"></i>
            </a>
          </div>
        </div>
      </div>
      {% endif %}

      <button class="carousel-control-prev" type="button" data-bs-target="#premiumCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#premiumCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>


  <section id="why-us" class="why-us section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Why Nestova?</h2>
      <p>Discover why we are the preferred choice for discerning property seekers and investors across Nigeria.</p>
    </div>

    <div class="container" data-aos="fade-up" data-aos-delay="100">
      <div class="row align-items-center gy-5">

        <div class="col-lg-5" data-aos="fade-right" data-aos-delay="200">
          <div class="image-showcase">
            <div class="main-image-wrapper">
              <div class="ratio ratio-4x3 main-image" style="position: relative;">
                
                <iframe id="yt-player" class="floating-video"
                  src="https://www.youtube.com/embed/35cEKa_3hQo?autoplay=1&mute=1&loop=1&playlist=35cEKa_3hQo&controls=0&showinfo=0&rel=0&modestbranding=1&playsinline=1&enablejsapi=1"
                  title="Nestova Real Estate" frameborder="0"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                  referrerpolicy="strict-origin-when-cross-origin" loading="lazy"
                  style="pointer-events: none; object-fit: cover; width: 100%; height: 100%; border-radius: 16px;">
                </iframe>

                <!-- Unmute Button -->
                <button id="unmute-btn" onclick="toggleMute()" style="
                position: absolute; bottom: 15px; right: 15px;
                background: rgba(0,0,0,0.6); color: white;
                border: none; border-radius: 50%;
                width: 40px; height: 40px;
                cursor: pointer; font-size: 16px;
                z-index: 10; pointer-events: all;">
                  ðŸ”‡
                </button>
              </div>
            </div>

            <div class="floating-stats">
              <div class="stat-badge">
                <span class="stat-number">15+</span>
                <span class="stat-text">Years Excellence</span>
              </div>
              <div class="stat-badge">
                <span class="stat-number">3.2K</span>
                <span class="stat-text">Happy Clients</span>
              </div>
            </div>

            <div class="experience-card">
              <div class="card-icon">
                <i class="bi bi-gem"></i>
              </div>
              <div class="card-content">
                <h5>Premier Service</h5>
                <p>Luxury real estate expertise since 2009</p>
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-7" data-aos="fade-left" data-aos-delay="300">
          <div class="content-wrapper">
            <div class="section-badge">
              <i class="bi bi-star-fill me-2"></i>
              Why Nestova?
            </div>

            <h2>Your Gateway to Exceptional Real Estate Experiences</h2>
            <p class="lead-text">Nestova combines deep local market knowledge with international service standards. We
              provide a secure and transparent marketplace for all your real estate needs.</p>

            <div class="benefits-grid">
              <div class="benefit-item" data-aos="fade-up" data-aos-delay="400">
                <div class="benefit-icon"><i class="bi bi-geo-alt-fill"></i></div>
                <div class="benefit-content">
                  <h4>Prime Locations</h4>
                  <p>Exclusive access to the most sought-after neighborhoods and emerging markets.</p>
                </div>
              </div>

              <div class="benefit-item" data-aos="fade-up" data-aos-delay="450">
                <div class="benefit-icon"><i class="bi bi-shield-fill-check"></i></div>
                <div class="benefit-content">
                  <h4>Guaranteed Results</h4>
                  <p>Our proven track record ensures successful transactions and satisfied clients.</p>
                </div>
              </div>

              <div class="benefit-item" data-aos="fade-up" data-aos-delay="500">
                <div class="benefit-icon"><i class="bi bi-clock-fill"></i></div>
                <div class="benefit-content">
                  <h4>Fast Processing</h4>
                  <p>Streamlined processes and expert negotiation to close deals efficiently.</p>
                </div>
              </div>

              <div class="benefit-item" data-aos="fade-up" data-aos-delay="550">
                <div class="benefit-icon"><i class="bi bi-people-fill"></i></div>
                <div class="benefit-content">
                  <h4>Expert Team</h4>
                  <p>Certified professionals with deep market knowledge and client dedication.</p>
                </div>
              </div>
            </div>

            <div class="action-buttons" data-aos="fade-up" data-aos-delay="650">
              <a href="{% url 'properties' %}" class="btn btn-primary">Explore Properties</a>
              <a href="{% url 'contact' %}" class="btn btn-outline">Schedule Consultation</a>
            </div>
          </div>
        </div>

      </div>
    </div>

  </section><!-- /Why Us Section -->

  <script>
    let muted = true;

    function toggleMute() {
      const iframe = document.getElementById('yt-player');
      const btn = document.getElementById('unmute-btn');
      if (muted) {
        iframe.contentWindow.postMessage('{"event":"command","func":"unMute","args":""}', '*');
        btn.innerText = 'ðŸ”Š';
      } else {
        iframe.contentWindow.postMessage('{"event":"command","func":"mute","args":""}', '*');
        btn.innerText = 'ðŸ”‡';
      }
      muted = !muted;
    }

    // Pause/play on scroll
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        const iframe = document.getElementById('yt-player');
        if (entry.isIntersecting) {
          iframe.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}', '*');
        } else {
          iframe.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}', '*');
        }
      });
    }, { threshold: 0.3 });

    observer.observe(document.getElementById('yt-player'));
  </script>
  <!-- Home About Section -->
  <section id="home-about" class="home-about section">

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="row align-items-center gy-5">

        <div class="col-lg-6 order-lg-2" data-aos="fade-left" data-aos-delay="200">
          <div class="image-section">
            <div class="main-image-wrapper">
              <img src="{% static 'assets/img/real-estate/real estate-1.jpg' %}" alt="Premium Property"
                class="img-fluid main-image">

            </div>
            <div class="secondary-images">
              <div class="small-image">
                <img src="{% static 'assets/img/real-estate/real-estate-2.jpeg' %}" alt="Interior Design"
                  class="img-fluid">
              </div>
              <div class="small-image">
                <img src="{% static 'assets/img/real-estate/real-estate-3.jpg' %}" alt="Expert Agent" class="img-fluid">
              </div>
            </div>
          </div>
        </div>

        <div class="col-lg-6 order-lg-1" data-aos="fade-right" data-aos-delay="300">
          <div class="content-wrapper">
            <div class="section-badge">
              <i class="bi bi-buildings"></i>
              <span>Our Real Estate Vision </span>
            </div>

            <h2>Transforming Real Estate Dreams Into Reality</h2>

            <p>At Nestova, we believe that finding a home is more than just a transaction; it's about discovering a
              space where memories are made and futures are built. Our platform connects you with the most exclusive and
              verified listings in Nigeria's prime locations.
            </p>



            <div class="features-list">
              <div class="feature-item">
                <i class="bi bi-check-circle"></i>
                <span>Expert market analysis and pricing strategies</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-check-circle"></i>
                <span>Personalized property matching services</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-check-circle"></i>
                <span>Professional photography and virtual tours</span>
              </div>
            </div>

            <div class="cta-wrapper">
              <a href="about.html" class="btn-primary">
                <span>Learn More About Us</span>
                <i class="bi bi-arrow-right-circle"></i>
              </a>
              <div class="contact-quick">
                <i class="bi bi-headset"></i>
                <div class="contact-text">
                  <span>Need assistance?</span>
                  <a href="tel:+2348030824223">+2348030824223</a>

                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </div>

  </section><!-- /Home About Section -->

  <!-- Featured Properties Section -->
  <section id="featured-properties" class="featured-properties section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Featured Properties</h2>
      <p>Discover our handpicked selection of premium properties in prime locations</p>
    </div><!-- End Section Title -->

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      {% if featured_properties %}
      <div class="grid-featured" data-aos="zoom-in" data-aos-delay="150">

        {% with featured_properties|first as main_property %}
        <article class="highlight-card">
          <div class="media">
            <div class="badge-set">
              {% if main_property.is_featured %}
              <span class="flag featured">Featured</span>
              {% endif %}
              {% if main_property.is_premium %}
              <span class="flag premium">Premium</span>
              {% endif %}
              {% if main_property.is_hot %}
              <span class="flag hot">Hot</span>
              {% endif %}
              {% if main_property.is_new %}
              <span class="flag new">New</span>
              {% endif %}
            </div>
            <a href="{{ main_property.get_absolute_url }}" class="image-link">
              <img
                src="{% if main_property.featured_image %}{{ main_property.featured_image.url }}{% else %}{% static 'assets/img/real-estate/property-exterior-6.webp' %}{% endif %}"
                alt="{{ main_property.title }}" class="img-fluid card-img-top">
            </a>
            <div class="quick-specs">
              <span><i class="bi bi-door-open"></i> {{ main_property.bedrooms }} Bed{{ main_property.bedrooms|pluralize }}</span>
              <span><i class="bi bi-droplet"></i> {{ main_property.bathrooms }} Bath{{ main_property.bathrooms|pluralize }}</span>
              <span><i class="bi bi-aspect-ratio"></i> {{ main_property.square_feet|floatformat:0|intcomma }} sq
                ft</span>
            </div>
          </div>
          <div class="content">
            <div class="top">
              <div>
                <h3><a href="{{ main_property.get_absolute_url }}">{{ main_property.title }}</a></h3>
                <div class="loc"><i class="bi bi-geo-alt-fill"></i> {{ main_property.city.name }}, {{
                  main_property.state.name }}</div>
              </div>
              <div class="price">{{ main_property.formatted_price }}</div>
            </div>
            <p class="excerpt">{{ main_property.description|striptags|truncatewords:20 }}</p>
            <div class="cta">
              <a href="{{ main_property.get_absolute_url }}" class="btn-main">View Details</a>
              <a href="{{ main_property.get_absolute_url }}" class="btn-soft">More Photos</a>
              <div class="meta">
                <span class="status {{ main_property.status.name }}">{{ main_property.status }}</span>
                <span class="listed">Listed {{ main_property.get_days_listed }} day{{ main_property.get_days_listed|pluralize }} ago</span>
              </div>
            </div>
          </div>
        </article><!-- End Highlight Card -->
        {% endwith %}

        <div class="mini-list">

          {% for property in featured_properties|slice:"1:4" %}
          <article class="mini-card" data-aos="fade-up" data-aos-delay="{% cycle '200' '250' '300' %}">
            <a href="{{ property.get_absolute_url }}" class="thumb">
              <img
                src="{% if property.featured_image %}{{ property.featured_image.url }}{% else %}{% static 'assets/img/real-estate/property-interior-2.webp' %}{% endif %}"
                alt="{{ property.title }}" class="img-fluid card-img-top tilt-card" loading="lazy">
              {% if property.is_hot %}
              <span class="label hot"><i class="bi bi-lightning-charge-fill"></i> Hot</span>
              {% elif property.is_new %}
              <span class="label new"><i class="bi bi-star-fill"></i> New</span>
              {% elif property.is_featured %}
              <span class="label featured"><i class="bi bi-gem"></i> Featured</span>
              {% elif property.is_exclusive %}
              <span class="label exclusive"><i class="bi bi-award"></i> Exclusive</span>
              {% endif %}
            </a>
            <div class="mini-body">
              <h4><a href="{{ property.get_absolute_url }}">{{ property.title|truncatewords:6 }}</a></h4>
              <div class="mini-loc"><i class="bi bi-geo"></i> {{ property.city.name }}, {{ property.state.code }}</div>
              <div class="mini-specs">
                <span><i class="bi bi-door-open"></i> {{ property.bedrooms }}</span>
                <span><i class="bi bi-droplet"></i> {{ property.bathrooms }}</span>
                <span><i class="bi bi-rulers"></i> {{ property.square_feet|floatformat:0|intcomma }} sq ft</span>
              </div>
              <div class="mini-foot">
                <div class="mini-price">{{ property.formatted_price }}</div>
                <a href="{{ property.get_absolute_url }}" class="mini-btn">Details</a>
              </div>
            </div>
          </article><!-- End Mini Card -->
          {% endfor %}

        </div><!-- End Mini List -->

      </div>

      <div class="row gy-4 mt-4">

        {% for property in featured_properties|slice:"4:7" %}
        <div class="col-lg-4" data-aos="fade-up" data-aos-delay="{% cycle '300' '350' '400' %}">
          <article class="stack-card">
            <figure class="stack-media">
              <img
                src="{% if property.featured_image %}{{ property.featured_image.url }}{% else %}{% static 'assets/img/real-estate/property-exterior-8.webp' %}{% endif %}"
                alt="{{ property.title }}" class="img-fluid card-img-top tilt-card" loading="lazy">
              <figcaption>
                {% if property.is_exclusive %}
                <span class="chip exclusive">Exclusive</span>
                {% elif property.is_hot %}
                <span class="chip hot">Hot</span>
                {% elif property.is_new %}
                <span class="chip new">New</span>
                {% elif property.is_premium %}
                <span class="chip premium">Premium</span>
                {% endif %}
              </figcaption>
            </figure>
            <div class="stack-body">
              <h5><a href="{{ property.get_absolute_url }}">{{ property.title|truncatewords:5 }}</a></h5>
              <div class="stack-loc"><i class="bi bi-geo-alt"></i> {{ property.city.name }}, {{ property.state.code }}
              </div>
              <ul class="stack-specs">
                <li><i class="bi bi-door-open"></i> {{ property.bedrooms }}</li>
                <li><i class="bi bi-droplet"></i> {{ property.bathrooms }}</li>
                <li><i class="bi bi-aspect-ratio"></i> {{ property.square_feet|floatformat:0|intcomma }} sq ft</li>
              </ul>
              <div class="stack-foot">
                <span class="stack-price">{{ property.formatted_price }}</span>
                <a href="{{ property.get_absolute_url }}" class="stack-link">View</a>
              </div>
            </div>
          </article>
        </div>
        {% endfor %}

      </div>
      {% else %}
      <div class="text-center">
        <p>No featured properties available at the moment. Check back soon!</p>
      </div>
      {% endif %}

    </div>

  </section><!-- /Featured Properties Section -->

  <!-- Featured Services Section -->

  {% load humanize %}

  <section id="pricing-packages" class="featured-services section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Sell Your Properties With Us</h2>
      <p>Choose the perfect package to post your properties and reach potential buyers</p>
    </div><!-- End Section Title -->

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="row g-4 justify-content-center">

        {% if pricing_packages %}
        {% for pkg in pricing_packages %}
        <div class="col-lg-3 col-md-6" data-aos="zoom-in" data-aos-delay="{% cycle '200' '300' '400' '500' %}">
          <div class="service-card {% if pkg.slots_count == 10 %}featured{% endif %}">
            <div class="service-header">
              <div class="service-icon">
                <i class="bi bi-building"></i>
              </div>
              <div class="service-number">{{ pkg.slots_count }}</div>
            </div>
            <div class="service-content">
              <h3><a href="{% url 'listings:subscribe' pkg.id %}">{{ pkg.name }}</a></h3>
              <p>{{ pkg.description|default:"Post your properties and connect with buyers instantly" }}</p>
              <ul class="service-features">
                <li><i class="bi bi-check2"></i> {{ pkg.slots_count }} Property Slot{{ pkg.slots_count|pluralize }}</li>
                <li><i class="bi bi-check2"></i> Never Expires</li>
                <li><i class="bi bi-check2"></i> Dashboard Management</li>
                {% if pkg.slots_count >= 10 %}
                <li><i class="bi bi-star-fill"></i> Priority Support</li>
                {% endif %}
              </ul>
            </div>
            <div class="service-action">
              {% if pkg.price == 0 %}
              <span class="service-price">Free</span>
              {% else %}
              <span class="service-price">â‚¦{{ pkg.price|floatformat:0|intcomma}}</span>
              {% endif %}
              <form method="post" action="{% url "listings:subscribe" pkg.id %}">
                {% csrf_token %}
                <a href="{% url 'listings:subscribe' pkg.id %}" class="service-btn">
                  <span>Get Package</span>
                  <i class="bi bi-arrow-right"></i>
                </a>
              </form>

            </div>
          </div>
        </div><!-- End Service Item -->
        {% endfor %}
        {% else %}
        <!-- Fallback if no packages -->
        <div class="col-12 text-center">
          <p>No pricing packages available at the moment. Please check back later.</p>
        </div>
        {% endif %}

      </div>

      <div class="text-center" data-aos="fade-up" data-aos-delay="600">
        <a href="{% url 'listings:pricing' %}" class="btn-all-services">
          <span>View All Pricing Plans</span>
          <i class="bi bi-arrow-up-right"></i>
        </a>
      </div>

    </div>

  </section><!-- /Pricing Packages Section -->
  <!-- Featured Agents Section -->
  <section id="featured-agents" class="featured-agents section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Our Trusted Agents</h2>
      <p>Work with the industry's most dedicated professionals who are committed to your success and satisfaction.</p>
    </div><!-- End Section Title -->

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="row gy-5 justify-content-center">

        {% if featured_agents %}
        {% for agent in featured_agents|slice:":3" %}
        <div class="col-lg-6 col-xl-4" data-aos="fade-up" data-aos-delay="{% cycle '100' '200' '300' %}">
          <div class="agent-card">
            <div class="agent-image">
              {% if agent.user.get_users_image %}
              <img src="{{ agent.user.get_users_image }}" alt="{{ agent.user.get_full_name }}" class="img-fluid">
              {% else %}
              <img src="{% static 'assets/img/real-estate/agent-5.webp' %}" alt="{{ agent.user.get_full_name }}"
                class="img-fluid">
              {% endif %}
              <div class="agent-overlay">
                <div class="contact-buttons">
                  {% if agent.user.phone %}
                  <a href="tel:{{ agent.user.phone }}" class="btn-contact" title="Call Agent">
                    <i class="bi bi-telephone"></i>
                  </a>
                  {% endif %}
                  <a href="mailto:{{ agent.user.email }}" class="btn-contact" title="Email Agent">
                    <i class="bi bi-envelope"></i>
                  </a>
                  {% if agent.user.phone %}
                  <a href="https://wa.me/{{ agent.user.phone }}" class="btn-contact" title="WhatsApp" target="_blank">
                    <i class="bi bi-whatsapp"></i>
                  </a>
                  {% endif %}
                </div>
              </div>
              <div class="status-badge {% if forloop.first %}top-agent{% else %}certified{% endif %}">
                {% if forloop.first %}Top Agent{% else %}Verified{% endif %}
              </div>
            </div>
            <div class="agent-info">
              <div class="agent-meta">
                <h3 class="agent-name">{{ agent.user.get_full_name|default:agent.user.username }}</h3>
                <p class="agent-title">Real Estate Professional</p>
              </div>
              <div class="agent-stats">
                <div class="stat-item">
                  <span class="stat-number">{{ agent.user.properties.count }}+</span>
                  <span class="stat-label">Properties Listed</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                  <span class="stat-number">{% if agent.verification_status == 'verified' %}âœ“{% else %}-{% endif %}</span>
                  <span class="stat-label">Verified</span>
                </div>
              </div>
              <div class="location-tag">
                <i class="bi bi-geo-alt"></i>
                <span>Nigeria</span>
              </div>
              <div class="specialties">
                <span class="specialty-tag">Residential</span>
                <span class="specialty-tag">Commercial</span>
              </div>
              <a href="{% url 'agents:agent_profile' agent.slug %}" class="profile-link">View Full Profile</a>
            </div>
          </div>
        </div><!-- End Agent Card -->
        {% endfor %}
        {% else %}
        <div class="col-12 text-center">
          <p>No verified agents available at the moment. Check back soon!</p>
        </div>
        {% endif %}

      </div>

      <div class="text-center mt-5" data-aos="fade-up" data-aos-delay="400">
        <a href="{% url 'agents' %}" class="explore-agents-btn">
          <span>Explore All Our Agents</span>
          <i class="bi bi-arrow-right-circle"></i>
        </a>
      </div>

    </div>

  </section><!-- /Featured Agents Section -->

  <!-- Partners Section -->
  <section id="clients" class="clients section light-background">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Our Trusted Partners</h2>
      <p>Collaborating with industry leaders to deliver exceptional real estate services and solutions.</p>
    </div><!-- End Section Title -->

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="swiper init-swiper">
        <script type="application/json" class="swiper-config">
            {
              "loop": true,
              "speed": 600,
              "autoplay": {
                "delay": 5000
              },
              "slidesPerView": "auto",
              "pagination": {
                "el": ".swiper-pagination",
                "type": "bullets",
                "clickable": true
              },
              "breakpoints": {
                "320": {
                  "slidesPerView": 2,
                  "spaceBetween": 40
                },
                "480": {
                  "slidesPerView": 3,
                  "spaceBetween": 60
                },
                "640": {
                  "slidesPerView": 4,
                  "spaceBetween": 80
                },
                "992": {
                  "slidesPerView": 6,
                  "spaceBetween": 120
                }
              }
            }
          </script>
        <div class="swiper-wrapper align-items-center">
          <div class="swiper-slide"><img src="" class="img-fluid" alt=""></div>
          <div class="swiper-slide"><img src="{% static 'assets/img/real-estate/cubana.jpg' %}" class="img-fluid"
              alt=""></div>
          <div class="swiper-slide"><img src="{% static 'assets/img/real-estate/fidelity.webp' %}" class="img-fluid"
              alt=""></div>
          <div class="swiper-slide"><img src="{% static 'assets/img/real-estate/billion.jpg' %}" class="img-fluid"
              alt=""></div>
          <div class="swiper-slide"><img src="{% static 'assets/img/real-estate/lagos.jpg' %}" class="img-fluid"
              alt=""></div>
          <div class="swiper-slide"><img src="{% static 'assets/img/real-estate/adozil.jpg' %}" class="img-fluid"
              alt=""></div>
          <div class="swiper-slide"><img src="{% static 'assets/img/real-estate/zental.jpg' %}" class="img-fluid"
              alt=""></div>
          <div class="swiper-slide"><img src="{% static 'assets/img/real-estate/harmony.jpg' %}" class="img-fluid"
              alt=""></div>
        </div>
        <div class="swiper-pagination"></div>
      </div>

    </div>

  </section><!-- /Clients Section -->
  <section id="partners" class="partners section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>License</h2>
      <p>Collaborating with industry leaders to deliver exceptional real estate services and solutions.</p>
    </div><!-- End Section Title -->

    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="row g-4">

        <!-- Partner Card 1 -->
        <div class="col-lg-3 col-md-4 col-sm-6">
          <div class="partner-card glass-card testimonial-item">
            <img src="{% static 'assets/img/real-estate/cubana.jpg' %}" alt="Partner 1" class="img-fluid">
          </div>
        </div>

        <!-- Partner Card 2 -->
        <div class="col-lg-3 col-md-4 col-sm-6">
          <div class="partner-card glass-card testimonial-item">
            <img src="{% static 'assets/img/person/person-m-7.webp' %}" alt="Partner 2" class="img-fluid">
          </div>
        </div>

        <!-- Partner Card 3 -->
        <div class="col-lg-3 col-md-4 col-sm-6">
          <div class="partner-card glass-card testimonial-item">
            <img src="{% static 'assets/img/person/person-m-7.webp' %}" alt="Partner 3" class="img-fluid">
          </div>
        </div>

        <!-- Partner Card 4 -->
        <div class="col-lg-3 col-md-4 col-sm-6">
          <div class="partner-card glass-card testimonial-item">
            <img src="{% static 'assets/img/person/person-m-7.webp' %}" alt="Partner 4" class="img-fluid">
          </div>
        </div>

        <!-- Partner Card 5 -->
        <div class="col-lg-3 col-md-4 col-sm-6">
          <div class="partner-card glass-card testimonial-item">
            <img src="{% static 'assets/img/person/person-m-7.webp' %}" alt="Partner 5" class="img-fluid">
          </div>
        </div>

        <!-- Partner Card 6 -->
        <div class="col-lg-3 col-md-4 col-sm-6">
          <div class="partner-card glass-card testimonial-item">
            <img src="{% static 'assets/img/person/person-m-7.webp' %}" alt="Partner 6" class="img-fluid">
          </div>
        </div>

        <!-- Partner Card 7 -->
        <div class="col-lg-3 col-md-4 col-sm-6">
          <div class="partner-card glass-card testimonial-item">
            <img src="{% static 'assets/img/person/person-m-7.webp' %}" alt="Partner 7" class="img-fluid">
          </div>
        </div>

        <!-- Partner Card 8 -->
        <div class="col-lg-3 col-md-4 col-sm-6">
          <div class="partner-card glass-card testimonial-item">
            <img src="{% static 'assets/img/person/person-m-7.webp' %}" alt="Partner 8" class="img-fluid">
          </div>
        </div>

      </div>

    </div>
  </section><!-- /Partners Section -->

  <!-- Testimonials Section -->

  <section id="hero" class="hero section">
    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="hero-content">
        <div class="row align-items-center">

          <div class="col-lg-6 hero-text" data-aos="fade-right" data-aos-delay="200">
            <div class="hero-badge">
              <i class="bi bi-star-fill"></i>
              <span>Premium Properties</span>
            </div>
            <h1>Discover Your Perfect Home in the Heart of the City</h1>
            <p>Experience seamless property search with Nigeria's most trusted real estate platform. From modern
              apartments to luxury estates, find your dream property with verified listings from certified agents across
              major cities.</p>

            <div class="search-form" data-aos="fade-up" data-aos-delay="300">
              <form action="{% url 'search_properties' %}" method="get">
                <div class="row g-3">

                  <!-- State Selection -->
                  <div class="col-md-6">
                    <div class="form-floating">
                      <select class="form-select" id="state-type" name="state_type" required>
                        <option value="">Select State</option>
                        {% for state in states %}
                        <option value="{{ state.id }}">{{ state.name }}</option>
                        {% endfor %}
                      </select>
                      <label for="state-type">State</label>
                    </div>
                  </div>

                  <!-- City Selection (Dynamically populated) -->
                  <div class="col-md-6">
                    <div class="form-floating">
                      <select class="form-select" id="cities-type" name="city_type" required disabled>
                        <option value="">Select State First</option>
                      </select>
                      <label for="cities-type">City</label>
                    </div>
                  </div>

                  <!-- Property Type -->
                  <div class="col-md-6">
                    <div class="form-floating">
                      <select class="form-select" id="property-type" name="property_type">
                        <option value="">Select Type</option>
                        <option value="house">House</option>
                        <option value="apartment">Apartment</option>
                        <option value="condo">Condo</option>
                        <option value="townhouse">Townhouse</option>
                        <option value="land">Land</option>
                        <option value="duplex">Duplex</option>
                        <option value="bungalow">Bungalow</option>
                      </select>
                      <label for="property-type">Property Type</label>
                    </div>
                  </div>

                  <!-- Price Range -->
                  <div class="col-md-6">
                    <div class="form-floating">
                      <select class="form-select" id="price-range" name="price_range">
                        <option value="">Price Range</option>
                        <option value="0-5000000">Under â‚¦5M</option>
                        <option value="5000000-10000000">â‚¦5M - â‚¦10M</option>
                        <option value="10000000-20000000">â‚¦10M - â‚¦20M</option>
                        <option value="20000000-50000000">â‚¦20M - â‚¦50M</option>
                        <option value="50000000+">Above â‚¦50M</option>
                      </select>
                      <label for="price-range">Price Range</label>
                    </div>
                  </div>

                  <!-- Bedrooms -->
                  <div class="col-md-6">
                    <div class="form-floating">
                      <select class="form-select" id="bedrooms" name="bedrooms">
                        <option value="">Bedrooms</option>
                        <option value="1">1 Bedroom</option>
                        <option value="2">2 Bedrooms</option>
                        <option value="3">3 Bedrooms</option>
                        <option value="4">4 Bedrooms</option>
                        <option value="5+">5+ Bedrooms</option>
                      </select>
                      <label for="bedrooms">Bedrooms</label>
                    </div>
                  </div>

                  <!-- Bathrooms -->
                  <div class="col-md-6">
                    <div class="form-floating">
                      <select class="form-select" id="bathrooms" name="bathrooms">
                        <option value="">Bathrooms</option>
                        <option value="1">1 Bathroom</option>
                        <option value="2">2 Bathrooms</option>
                        <option value="3">3 Bathrooms</option>
                        <option value="4+">4+ Bathrooms</option>
                      </select>
                      <label for="bathrooms">Bathrooms</label>
                    </div>
                  </div>

                  <!-- Search Button -->
                  <div class="col-12">
                    <button type="submit" class="btn btn-search w-100">
                      <i class="bi bi-search"></i>
                      Search Properties
                    </button>
                  </div>
                </div>
              </form>
            </div>





          </div><!-- End Hero Text -->

          <div class="col-lg-6 hero-images" data-aos="fade-left" data-aos-delay="400">
            <div class="image-stack">
              <div class="main-image">
                {% if featured_properties %}
                {% with featured_properties|first as hero_prop %}
                <img
                  src="{% if hero_prop.featured_image %}{{ hero_prop.featured_image.url }}{% else %}{% static 'assets/img/real-estate/property-exterior-3.webp' %}{% endif %}"
                  alt="{{ hero_prop.title }}" class="img-fluid" fetchpriority="high">
                <div class="property-tag">
                  <span class="price">{{ hero_prop.formatted_price }}</span>
                  <span class="type">{% if hero_prop.is_featured %}Featured{% elif hero_prop.is_premium %}Premium{% else
                    %}Prime{% endif %}</span>
                </div>
                {% endwith %}
                {% else %}
                <img src="{% static 'assets/img/real-estate/property-exterior-3.webp' %}" alt="Luxury Property"
                  class="img-fluid" fetchpriority="high">
                <div class="property-tag">
                  <span class="price">$850,000</span>
                  <span class="type">Featured</span>
                </div>
                {% endif %}
              </div>

              <div class="secondary-image">
                <img src="{% static 'assets/img/real-estate/property-interior-7.webp' %}" alt="Property Interior"
                  class="img-fluid">
              </div>


            </div>
          </div><!-- End Hero Images -->

        </div>
      </div>

    </div>

  </section><!-- /Hero Section -->
  <!-- Why Us Section -->


  <!-- Recent Blog Posts Section -->
  <section id="recent-blog-posts" class="recent-blog-posts section">

    <!-- Section Title -->
    <div class="container section-title" data-aos="fade-up">
      <h2>Market Insights & News</h2>
      <p>Stay informed with the latest trends and advice from our real estate experts.</p>
    </div><!-- End Section Title -->

    <div class="container">

      <div class="row gy-5">
        {% for recent in recent_blog_posts %}
        <div class="col-xl-4 col-md-6" data-aos="fade-up" data-aos-delay="100">
          <div class="post-item position-relative h-100">

            <div class="post-img position-relative overflow-hidden">
              <img src="{% static 'assets/img/blog/blog-post-1.webp' %}" class="img-fluid" alt="">
              <span class="post-date">December 12</span>
            </div>

            <div class="post-content d-flex flex-column">
              <h3 class="post-title">{{ recent.title }}</h3>
              <a href="{{ recent.get_absolute_url }}" class="readmore stretched-link"
                aria-label="Read more about {{ recent.title }}"><span>Read More</span><i
                  class="bi bi-arrow-right"></i></a>
            </div>

          </div>
        </div><!-- End post item -->
        {% endfor %}

      </div>

    </div>

  </section><!-- /Recent Blog Posts Section -->

  <!-- Call To Action Section -->
  <section class="call-to-action-2 call-to-action section light-background" id="call-to-action">
    <div class="container" data-aos="fade-up" data-aos-delay="100">

      <div class="row align-items-center">
        <div class="col-lg-6 order-2 order-lg-1" data-aos="fade-right" data-aos-delay="200">

          <div class="cta-content">
            <div class="section-badge">Your Property Journey Starts Here</div>
            <h2>Ready to Find Your Perfect Investment?</h2>
            <p>Whether you're looking for your first home, a luxury estate, or a high-yield investment property, our
              team is here to guide you every step of the way.</p>

            <div class="benefits-list">
              <div class="benefit-item" data-aos="fade-up" data-aos-delay="300">
                <i class="bi bi-check-circle-fill"></i>
                <span>Expert market analysis and insights</span>
              </div>
              <div class="benefit-item" data-aos="fade-up" data-aos-delay="350">
                <i class="bi bi-check-circle-fill"></i>
                <span>Personalized property recommendations</span>
              </div>
              <div class="benefit-item" data-aos="fade-up" data-aos-delay="400">
                <i class="bi bi-check-circle-fill"></i>
                <span>End-to-end transaction support</span>
              </div>
            </div>

            <div class="cta-actions">
              <a href="contact.html" class="btn btn-primary">
                <i class="bi bi-person-lines-fill"></i>
                Get Free Consultation
              </a>
              <a href="contact.html" class="btn btn-secondary">
                <i class="bi bi-telephone-fill"></i>
                Call (555) 123-4567
              </a>
            </div>

          </div><!-- End CTA Content -->

        </div><!-- End Left Column -->

        <div class="col-lg-6 order-1 order-lg-2" data-aos="fade-left" data-aos-delay="250">

          <div class="cta-visual">
            <div class="main-image">
              <img src="{% static 'assets/img/real-estate/property-exterior-5.webp' %}" alt="Property Investment"
                class="img-fluid">
              <div class="overlay-badge">
                <i class="bi bi-star-fill"></i>
                <span>Trusted by 500+ Clients</span>
              </div>
            </div>

            <div class="floating-stats">
              <div class="stat-card" data-aos="zoom-in" data-aos-delay="450">
                <div class="stat-icon">
                  <i class="bi bi-house-heart-fill"></i>
                </div>
                <div class="stat-info">
                  <span class="stat-number">850+</span>
                  <span class="stat-label">Properties Sold</span>
                </div>
              </div>

              <div class="stat-card" data-aos="zoom-in" data-aos-delay="500">
                <div class="stat-icon">
                  <i class="bi bi-trophy-fill"></i>
                </div>
                <div class="stat-info">
                  <span class="stat-number">15</span>
                  <span class="stat-label">Years Experience</span>
                </div>
              </div>
            </div>

          </div><!-- End CTA Visual -->

        </div><!-- End Right Column -->
      </div>

    </div>
  </section><!-- /Call To Action Section -->

</main>

<script>
  // Smart City Filter - Dynamically load cities based on selected state
  document.getElementById('state-type').addEventListener('change', function () {
    const stateId = this.value;
    const citySelect = document.getElementById('cities-type');

    // Reset city dropdown
    citySelect.innerHTML = '<option value="">Loading cities...</option>';
    citySelect.disabled = true;

    if (!stateId) {
      citySelect.innerHTML = '<option value="">Select State First</option>';
      return;
    }

    // Fetch cities for selected state
    fetch(`/api/get-cities/?state_id=${stateId}`)
      .then(response => response.json())
      .then(data => {
        citySelect.innerHTML = '<option value="">Select City</option>';

        if (data.cities && data.cities.length > 0) {
          data.cities.forEach(city => {
            const option = document.createElement('option');
            option.value = city.id;
            option.textContent = city.name;
            citySelect.appendChild(option);
          });
          citySelect.disabled = false;
        } else {
          citySelect.innerHTML = '<option value="">No cities available</option>';
        }
      })
      .catch(error => {
        console.error('Error fetching cities:', error);
        citySelect.innerHTML = '<option value="">Error loading cities</option>';
      });
  });
</script>

<style>
  /* Partners Section Styling */
  .partners.section {
    background: #f8f9fa;
    padding: 80px 0;
  }

  .partner-item {
    padding: 10px;
  }

  .partner-card {
    background: #ffffff;
    border-radius: 12px;
    padding: 30px 20px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 150px;
  }

  .partner-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
  }

  .partner-card img {
    max-width: 100%;
    height: auto;
    filter: grayscale(100%);
    opacity: 0.7;
    transition: all 0.3s ease;
  }

  .partner-card:hover img {
    filter: grayscale(0%);
    opacity: 1;
  }

  /* Owl Carousel Custom Styling */
  .partners-carousel .owl-nav {
    margin-top: 30px;
  }

  .partners-carousel .owl-nav button {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: #ffffff !important;
    color: #333 !important;
    font-size: 24px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    margin: 0 5px;
  }

  .partners-carousel .owl-nav button:hover {
    background: #007bff !important;
    color: #ffffff !important;
    box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
  }

  .partners-carousel .owl-dots {
    margin-top: 25px;
  }

  .partners-carousel .owl-dot {
    display: inline-block;
    margin: 0 5px;
  }

  .partners-carousel .owl-dot span {
    width: 12px;
    height: 12px;
    background: #d1d1d1;
    border-radius: 50%;
    display: block;
    transition: all 0.3s ease;
  }

  .partners-carousel .owl-dot.active span,
  .partners-carousel .owl-dot:hover span {
    background: #007bff;
    transform: scale(1.2);
  }
</style>

<script>
  // Initialize Owl Carousel for Partners Section
  document.addEventListener('DOMContentLoaded', function () {
    // Wait for jQuery and Owl Carousel to load
    function initPartnersCarousel() {
      if (typeof jQuery !== 'undefined' && typeof jQuery.fn.owlCarousel !== 'undefined') {
        jQuery('.partners-carousel').owlCarousel({
          loop: true,
          margin: 20,
          nav: true,
          dots: true,
          autoplay: true,
          autoplayTimeout: 3000,
          autoplayHoverPause: true,
          responsive: {
            0: {
              items: 1
            },
            576: {
              items: 2
            },
            768: {
              items: 3
            },
            992: {
              items: 4
            }
          }
        });
      } else {
        // Retry after a short delay if libraries aren't loaded yet
        setTimeout(initPartnersCarousel, 100);
      }
    }

    initPartnersCarousel();
  });
</script>


{% endblock content %}